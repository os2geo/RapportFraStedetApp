<ion-modal-view class="transparent">
    <div class="bar bar-header bar-dark ">
        <div class="buttons pull-right">
            <button class="button button-icon icon" ng-class="{'ion-chevron-down':ascending,'ion-chevron-up':!ascending}" ng-click="ascending=!ascending"></button>
            <button class="button button-icon icon ion-ios7-more" ng-click="popover.show($event)"></button>
        </div>
        <button class="button button-clear" ng-click="modal.remove();popover.remove();">Luk</button>
        <h2 class="title">Vælg opgave</h2>
    </div>
    <div class="bar bar-dark bar-subheader item-input-inset">
        <label class="item-input-wrapper">
            <i class="icon ion-ios7-search placeholder-icon"></i>
            <input type="search" placeholder="Søg opgave" ng-model="searchOpgaver">
        </label>
    </div>
    <ion-content class="has-subheader">
        <ion-list>
            <!--ion-item class="item-icon-right" ng-repeat="doc in opgaver | opgaverfilter:searchOpgaver:widgets" ui-sref="map.opgave({configuration:configurationid,organization:organizationid,opgave:doc._id})" ui-sref-active="active"-->
            <ion-item class="item-icon-right" ng-repeat="doc in data[widgets.opgaver.layer] | opgaverfilter:searchOpgaver:widgets:myposition | filter:filterByEnum | orderBy:selectedSortering:ascending track by doc._id" ng-click="selectOpgave(doc)">
                <div ng-if="doc.distance">
                    <h2>Afstand</h2>
                    <p>{{doc.distance|distance}}</p>
                </div>
                <div ng-repeat="field in overlays[widgets.opgaver.layer].list">
                    <h2>{{field|schemapath:schemas[widgets.opgaver.layer]}}</h2>
                    <p>{{field|objectpath:doc}}</p>
                </div>
                <i class="icon ion-ios7-arrow-right"></i>
            </ion-item>
            
        </ion-list>
    </ion-content>
</ion-modal-view>